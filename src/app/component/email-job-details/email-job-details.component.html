<div *ngIf="emailJob; else loading" class="email-job-details">
  <h1 class="title">Email Job Details</h1>
  <div class="details-card">
    <p><strong>UUID:</strong> {{ emailJob.uuid }}</p>
    <p><strong>Start Date:</strong> {{ emailJob.startDate | date: 'short' }}</p>
    <p><strong>End Date:</strong> {{ emailJob.endDate ? (emailJob.endDate | date: 'short') : 'N/A' }}</p>
    <p><strong>Status:</strong> {{ emailJob.enabled ? 'Enabled' : 'Disabled' }}</p>
    <p><strong>Email Template UUID:</strong> {{ emailJob.emailTemplate.uuid }}</p>
    <p><strong>Sender UUID:</strong> {{ emailJob.sender.uuid }}</p>
    <p><strong>Receivers:</strong> {{ emailJob.receivers.join(', ') }}</p> <!-- Assuming receivers is an array -->
    <p><strong>Frequency:</strong> {{ emailJob.frequency }}</p>
    <button (click)="toggleOccurrences()">View Occurrences</button>
  </div>
  <button class="back-button" (click)="backToDashboard()">Back to Dashboard</button>

  <div *ngIf="showOccurrences && occurrences.length > 0; else noOccurrences">
    <h2>Occurrences</h2>
    <ul>
      <li *ngFor="let occurrence of occurrences">
        <p><strong>Status:</strong> {{ occurrence.status }}</p>
        <p><strong>Error Description:</strong> {{ occurrence.errorDescription }}</p>
        <!-- Remove or replace with actual properties -->
        <!-- <p><strong>Created On:</strong> {{ occurrence.createdOn | date: 'short' }}</p> -->
      </li>
    </ul>
  </div>

  <ng-template #noOccurrences>
    <p>No occurrences found for this email job.</p>
  </ng-template>
</div>

<ng-template #loading>
  <div class="loading">
    <p>Loading...</p>
  </div>
</ng-template>
